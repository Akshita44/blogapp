(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){},115:function(e,t,a){},116:function(e,t,a){},117:function(e,t,a){},122:function(e,t,a){},123:function(e,t,a){},124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),c=a(24),r=a.n(c),i=(a(86),a(3)),l=a(4),o=a.n(l),j=a(14),u=(a(88),a(89),a(48)),d=a.n(u),b=a(49),p=a.n(b),O=a(50),h=a.n(O),m=a(51),x=a.n(m),f=a(11),g=a(10),v=a(13),N=a.n(v),y=(a(108),a(1));var w=function(){return Object(y.jsx)("div",{className:"loading-page",children:Object(y.jsxs)("div",{class:"wrapper",children:[Object(y.jsx)("div",{class:"circle"}),Object(y.jsx)("div",{class:"circle"}),Object(y.jsx)("div",{class:"circle"}),Object(y.jsx)("div",{class:"shadow"}),Object(y.jsx)("div",{class:"shadow"}),Object(y.jsx)("div",{class:"shadow"}),Object(y.jsx)("span",{children:"Loading"})]})})},k=a(64);var C=function(){var e,t,a=Object(s.useContext)(K),n=a.state,c=a.dispatch,r=a.isLoading,l=a.setisLoading,u=Object(f.f)();console.log(typeof n.loc),console.log(null===(e=n.loc)||void 0===e?void 0:e.split(":"));var b=Object(s.useState)([]),O=Object(i.a)(b,2),m=O[0],v=O[1];Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/categories");case 2:t=e.sent,v(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var C=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch("/auth/logout",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 3:t=e.sent,console.log(t),l(!1),200===t.status&&(c({type:"Logout"}),u.push("/login"));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsx)(w,{}),Object(y.jsxs)("div",{className:"navbar",children:[Object(y.jsxs)("div",{className:"navleft",children:[Object(y.jsx)("span",{children:Object(y.jsx)("a",{href:"https://www.linkedin.com/in/akshita-sharma-a60444220",target:"_blank",rel:"noopener noreferrer",children:Object(y.jsx)(d.a,{fontSize:"medium",className:"icons"})})}),Object(y.jsx)("span",{children:Object(y.jsx)("a",{href:"https://github.com/Akshita44",target:"_blank",rel:"noopener noreferrer",children:Object(y.jsx)(p.a,{fontSize:"medium",className:"icons"})})}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)("a",{href:"https://www.instagram.com/akshitasharma407/",target:"_blank",rel:"noopener noreferrer",children:Object(y.jsx)(h.a,{fontSize:"medium",className:"icons"})})]}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)("a",{href:"mailto:akshitasharma407@gmail.com",children:Object(y.jsx)(x.a,{fontSize:"medium",className:"icons"})})]})]}),Object(y.jsx)("div",{className:"navcenter",children:Object(y.jsxs)("ul",{className:"navlist",children:[Object(y.jsxs)("li",{className:"navlistitem",children:[" ",Object(y.jsx)(g.b,{to:"/",className:"link",children:"HOME"})]}),Object(y.jsx)("li",{className:"navlistitem",children:n.user?Object(y.jsx)(g.b,{to:"/?user=".concat(n.user.username),className:"link",children:"BlOG"}):Object(y.jsx)(g.b,{to:"/",className:"link",children:"BlOG"})}),Object(y.jsx)("li",{className:"navlistitem",children:n.user?Object(y.jsx)(g.b,{to:"/write",className:"link",children:"WRITE"}):Object(y.jsx)(g.b,{to:"/login",className:"link",children:"WRITE"})}),n.user?Object(y.jsx)("li",{className:"navlistitem",onClick:C,children:Object(y.jsx)(g.b,{to:"/login",className:"link",children:"LOGOUT"})}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("li",{className:"navlistitem",children:Object(y.jsx)(g.b,{to:"/login",className:"link",children:"LOGIN"})}),Object(y.jsx)("li",{className:"navlistitem",children:Object(y.jsx)(g.b,{to:"/register",className:"link",children:"REGISTER "})})]})]})}),Object(y.jsx)(k.a,{id:"nav-dropdown-dark-example",title:"Dropdown",menuVariant:"dark",children:m.map((function(e){return Object(y.jsx)(k.a.Item,{href:"/?cat=".concat(e.name),children:e.name[0].toUpperCase()+e.name.toLowerCase().slice(1)})}))}),Object(y.jsx)("div",{className:"navright",children:(null===(t=n.user)||void 0===t?void 0:t.profilepic)?Object(y.jsx)(g.b,{to:"/about",children:Object(y.jsx)("img",{src:n.user.profilepic,alt:"",className:"navimg"})}):Object(y.jsx)(g.b,{to:"/about",children:Object(y.jsx)("i",{className:"fa-solid fa-user-large navicon"})})})]})]})};a(115),a(116);var S=function(e){return Object(y.jsxs)("div",{className:"post",children:[e.post.photo&&Object(y.jsx)(g.b,{to:"/singlepost/:".concat(e.post._id),children:Object(y.jsx)("img",{src:e.post.photo,className:"postimg",alt:""})}),Object(y.jsxs)("div",{className:"postinfo",children:[Object(y.jsx)("div",{className:"postcats",children:e.post.categories&&Array.isArray(e.post.categories)?e.post.categories.map((function(t){return Object(y.jsx)("span",{className:"postcat",children:e.post.categories})})):Object(y.jsx)("span",{className:"postcat",children:e.post.categories})}),Object(y.jsx)("span",{className:"posttitle",children:Object(y.jsx)(g.b,{to:"/singlepost/:".concat(e.post._id),className:"link",children:e.post.title})}),Object(y.jsx)("p",{className:"postdate",children:new Date(e.post.createdAt).toDateString()})]}),Object(y.jsx)("p",{className:"postdesc",children:e.post.desc})]})},L=(a(117),a(17));var F=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/categories");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(y.jsxs)("div",{className:"sidebar",children:[Object(y.jsx)(L.a,{defaultActiveKey:"1",flush:!0,children:Object(y.jsxs)(L.a.Item,{className:"header",style:{border:"None"},children:[Object(y.jsx)(L.a.Header,{className:"sidespan1",children:"CATEGORIES"}),Object(y.jsx)(L.a.Body,{style:{height:"300px",maxheight:"400px",overflow:"auto"},children:a.map((function(e){return Object(y.jsx)("div",{className:"categories",style:{borderBottom:"1px solid rgba(0,0,0,0.2)",marginBottom:"0px"},children:Object(y.jsx)("p",{children:Object(y.jsx)(g.b,{to:"/?cat=".concat(e.name),className:"link",children:e.name[0].toUpperCase()+e.name.toLowerCase().slice(1)})})})}))})]})}),Object(y.jsx)("span",{className:"sidespan",children:"FOLLOW US"}),Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{children:Object(y.jsx)("a",{href:"https://www.linkedin.com/in/akshita-sharma-a60444220",target:"_blank",rel:"noopener noreferrer",children:Object(y.jsx)(d.a,{fontSize:"medium",className:"icons"})})}),Object(y.jsx)("span",{children:Object(y.jsx)("a",{href:"https://github.com/Akshita44",target:"_blank",rel:"noopener noreferrer",children:Object(y.jsx)(p.a,{fontSize:"medium",className:"icons"})})}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)("a",{href:"https://www.instagram.com/akshitasharma407/",target:"_blank",rel:"noopener noreferrer",children:Object(y.jsx)(h.a,{fontSize:"medium",className:"icons"})})]}),Object(y.jsxs)("span",{children:[" ",Object(y.jsx)("a",{href:"mailto:akshitasharma407@gmail.com",children:Object(y.jsx)(x.a,{fontSize:"medium",className:"icons"})})]})]})]})},E=a(78),U=a.n(E),R=(a(121),a(65));var D=function(){var e=Object(s.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useContext)(K),r=c.isLoading,l=c.setisLoading,u=Object(f.g)().search,d=Object(s.useState)(1),b=Object(i.a)(d,2),p=b[0],O=b[1],h=Object(s.useState)(1),m=Object(i.a)(h,2),x=m[0],g=m[1],v=Object(s.useState)(),k=Object(i.a)(v,2),C=k[0],L=k[1];return Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/post/count");case 2:t=e.sent,L(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(u),l(!0),!u){e.next=9;break}return e.next=5,N.a.get("/post/".concat(u,"&page=").concat(x));case 5:t=e.sent,n(t.data),e.next=13;break;case 9:return e.next=11,N.a.get("/post/?page=".concat(p));case 11:a=e.sent,n(a.data);case 13:l(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[u,p]),console.log(a),Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsx)(w,{}),Object(y.jsxs)("div",{className:"homepage",children:[Object(y.jsx)("div",{children:Object(y.jsx)(R.a,{children:["Image1.jpg","Image2.jpg","Image3.jpg","Image4.jpeg","Image5.webp","Image6.jpeg"].map((function(e){return Object(y.jsx)(R.a.Item,{interval:1500,children:Object(y.jsx)("img",{className:"d-block w-100 homeimg",src:"./images/".concat(e),alt:"Image One"})})}))})}),Object(y.jsxs)("div",{className:"headertitle",children:[Object(y.jsx)("span",{className:"headerlg",children:"BLOG"}),Object(y.jsx)("p",{style:{fontSize:"80px",marginTop:"0px"},children:"Express Yourself..."})]}),Object(y.jsxs)("div",{className:"homeposts",children:[a.length?Object(y.jsx)("div",{className:"homepost",children:a.map((function(e){return Object(y.jsx)(S,{post:e})}))}):Object(y.jsx)("div",{className:"homepost",children:Object(y.jsx)("h1",{style:{textAlign:"center",marginTop:"10px"},children:"No blogs yet!!"})}),Object(y.jsx)(F,{})]}),6<C&&Object(y.jsx)("div",{className:"paginationBox",children:Object(y.jsx)(U.a,{activePage:p,itemsCountPerPage:6,totalItemsCount:C,onChange:function(e){u?g(e):O(e)},nextPageText:"next",prevPageText:"prev",firstPageText:"1st",LastPageText:"last",itemClass:"page-item",linkClass:"page-link",activeClass:"pageitemActive",activeLinkClass:"pageLinkActive"})})]})]})},I=a(2),A=(a(122),a(123),function(e){return new Promise((function(t){var a="",s=new FileReader;s.readAsDataURL(e),s.onload=function(){a=s.result,console.log(a),t(a)}}))});var P=function(){var e=Object(s.useContext)(K),t=e.state,a=e.isLoading,n=e.setisLoading,c=Object(s.useState)(""),r=Object(i.a)(c,2),l=r[0],u=r[1],d=Object(s.useState)(""),b=Object(i.a)(d,2),p=b[0],O=b[1],h=Object(s.useState)(""),m=Object(i.a)(h,2),x=m[0],g=m[1],v=Object(s.useState)(""),k=Object(i.a)(v,2),C=k[0],S=k[1],L=Object(s.useState)(""),F=Object(i.a)(L,2),E=F[0],U=F[1],R=Object(f.f)(),D=function(){var e=Object(j.a)(o.a.mark((function e(a){var s,c,r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n(!0),e.prev=2,e.next=5,N.a.post("/categories",{name:p});case 5:e.sent,e.next=10;break;case 8:e.prev=8,e.t0=e.catch(2);case 10:if(s=t.user.username||E.username,c={username:s,title:l,desc:x,categories:p},!C){e.next=17;break}return e.next=15,A(C);case 15:r=e.sent,c.photo=r;case 17:if(e.prev=17,x&&l){e.next=21;break}return alert("Fill the details-Title and description are mandatory"),e.abrupt("return");case 21:return e.next=23,N.a.post("/post/",c);case 23:i=e.sent,n(!1),201===i.status?R.push("/"):alert("Wrong Details.(Check your title, it must be unique)"),e.next=31;break;case 28:e.prev=28,e.t1=e.catch(17),alert("Wrong Details.(Check your title, it must be unique)");case 31:case"end":return e.stop()}}),e,null,[[2,8],[17,28]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){try{t.user?U(t.user):R.push("/login")}catch(e){}}),[t.user]),Object(y.jsxs)(y.Fragment,{children:[a&&Object(y.jsx)(w,{}),Object(y.jsxs)("div",{children:[C&&Object(y.jsx)("img",{src:URL.createObjectURL(C),className:"writeimg",alt:""}),Object(y.jsxs)("form",{className:"writeform",children:[Object(y.jsxs)("div",{className:"writeFormGroup",children:[Object(y.jsx)("label",{htmlFor:"addfile",children:Object(y.jsx)("i",{class:"writeicon fas fa-plus"})}),Object(y.jsx)("input",{type:"file",id:"addfile",style:{display:"none"},onChange:function(e){S(e.target.files[0])}}),Object(y.jsx)("input",{type:"text",placeholder:"Title",className:"writeinput",autoFocus:!0,onChange:function(e){u(e.target.value)}})]}),Object(y.jsxs)("div",{className:"writeFormGroups",children:[Object(y.jsx)("input",{type:"text",className:"writeinputcat",placeholder:"Add a Category",autoFocus:!0,onChange:function(e){!function(e){var t,a;e.target.value?O((null===(t=e.target)||void 0===t?void 0:t.value[0].toUpperCase())+(null===(a=e.target.value)||void 0===a?void 0:a.toLowerCase().slice(1))):O("")}(e)}}),Object(y.jsx)("textarea",{type:"text",placeholder:"Tell your story...",className:"writeinput writetext",onChange:function(e){g(e.target.value)}})]}),Object(y.jsx)("button",{type:"submit",className:"writebutton",onClick:D,children:"Publish"})]})]})]})};var T=function(e){var t,a,n,c=Object(s.useState)({}),r=Object(i.a)(c,2),l=r[0],u=r[1],d=Object(s.useState)(""),b=Object(i.a)(d,2),p=b[0],O=b[1],h=Object(s.useState)(!1),m=Object(i.a)(h,2),x=m[0],v=m[1],k=Object(s.useContext)(K),C=k.state,S=k.isLoading,E=k.setisLoading,U=Object(s.useState)(!1),R=Object(i.a)(U,2),D=R[0],P=R[1],T=Object(s.useState)(!1),B=Object(i.a)(T,2),_=B[0],G=B[1],z=Object(s.useState)(!1),W=Object(i.a)(z,2),H=W[0],V=W[1],q=Object(s.useState)(""),J=Object(i.a)(q,2),M=J[0],Y=J[1],Q=Object(s.useRef)(null),X=Object(s.useRef)(null),Z=Object(s.useRef)(null),$=Object(s.useState)(),ee=Object(i.a)($,2),te=ee[0],ae=ee[1],se=Object(f.g)(),ne=Object(f.f)(),ce=Object(s.useRef)(null),re=Object(s.useState)([]),ie=Object(i.a)(re,2),le=ie[0],oe=ie[1],je=Object(s.useState)(!1),ue=Object(i.a)(je,2),de=ue[0],be=ue[1],pe=se.pathname.split("/")[2].slice(1);console.log(pe,C.user),Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,N.a.get("/post/".concat(pe));case 3:t=e.sent,u(t.data),E(!1),console.log(t.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[pe]),Object(s.useEffect)((function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,N.a.get("/comment/postid/".concat(pe));case 3:t=e.sent,oe(t.data),E(!1),console.log(t.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[de]);try{C.user.then((function(e){O(e.username)}))}catch(xe){}var Oe=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),E(!0),a=Object(I.a)({},l),D&&(a=Object(I.a)(Object(I.a)({},a),{},{title:Z.current.value})),_&&(a=Object(I.a)(Object(I.a)({},a),{},{desc:Q.current.value})),!H){e.next=15;break}return e.prev=6,e.next=9,N.a.post("/categories",{name:X.current.value});case 9:e.sent,a=Object(I.a)(Object(I.a)({},a),{},{categories:X.current.value}),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(6);case 15:if(!te){e.next=20;break}return e.next=18,A(te);case 18:s=e.sent,a=Object(I.a)(Object(I.a)({},a),{},{photo:s});case 20:return console.log(a),e.next=23,N.a.put("/post/".concat(pe),a);case 23:e.sent,E(!1),alert("Post is Updated!!"),ne.push("/");case 27:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),he=function(){var e=Object(j.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.next=3,N.a.delete(t,{data:a});case 3:e.sent,E(!1),alert("Deleted successfully"),ne.push("/");case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={username:C.user.username,profilepic:C.user.profilepic,comment:M,postID:pe,userID:C.user._id},e.next=4,N.a.post("/comment",t);case 4:e.sent,be(!de),ce.current.value="",alert("Comment Added Successfully"),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[S&&Object(y.jsx)(w,{}),Object(y.jsxs)("div",{className:"singlepost",children:[Object(y.jsxs)("div",{className:"singlepostwrapper",children:[l.photo&&Object(y.jsx)("img",{src:te?URL.createObjectURL(te):l.photo,className:"singlepostimg",alt:""}),x?Object(y.jsxs)("div",{className:"updatediv",children:[Object(y.jsx)("label",{htmlFor:"addfile",children:Object(y.jsx)("i",{class:"writeicon fas fa-plus"})}),Object(y.jsx)("input",{type:"file",id:"addfile",style:{display:"none"},onChange:function(e){ae(e.target.files[0])}}),Object(y.jsx)("input",{type:"text",className:"titlesinglepost",autoFocus:!0,ref:Z,defaultValue:l.title,onChange:function(e){P(!0)}}),Object(y.jsxs)("div",{className:"singlepostinfo",children:[Object(y.jsxs)("span",{children:["Author: ",l.username]}),Object(y.jsx)("span",{children:new Date(l.createdAt).toDateString()})]}),Object(y.jsx)("input",{type:"text",className:"catsinglepost",autoFocus:!0,defaultValue:"",ref:X,onChange:function(e){V(!0)},placeholder:"Add a category"}),Object(y.jsx)("textarea",{className:"descsinglepost",defaultValue:l.desc,ref:Q,onChange:function(e){G(!0)}}),Object(y.jsx)("button",{className:"Updatebtn",onClick:Oe,children:"Update"})]}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("h1",{className:"singleposttitle",children:[l.title,"admin"===(null===(t=C.user)||void 0===t?void 0:t.role)&&Object(y.jsx)("div",{className:"singlepostedit",children:Object(y.jsx)("i",{class:"far fa-trash-alt",target:"Delete post",onClick:function(){return he("/post/delete/".concat(pe),{username:l.username})}})}),("admin"!==(null===(a=C.user)||void 0===a?void 0:a.role)&&l.username===(null===(n=C.user)||void 0===n?void 0:n.username)||l.username===p)&&Object(y.jsxs)("div",{className:"singlepostedit",children:[Object(y.jsx)("i",{class:"far fa-edit",target:"Edit post",onClick:function(e){return v(!0)}}),Object(y.jsx)("i",{class:"far fa-trash-alt",target:"Delete post",onClick:function(){return he("/post/delete/".concat(pe),{username:l.username})}})]})]}),Object(y.jsxs)("div",{className:"singlepostinfo",children:[Object(y.jsx)(g.b,{to:"/?user=".concat(l.username),className:"link",children:Object(y.jsxs)("span",{children:["Author: ",l.username]})}),Object(y.jsx)("span",{children:new Date(l.createdAt).toDateString()})]}),Object(y.jsx)("p",{className:"singlepostdesc",children:l.desc}),Object(y.jsxs)(L.a,{defaultActiveKey:"0",flush:!0,children:[Object(y.jsxs)(L.a.Item,{eventKey:"0",children:[Object(y.jsx)(L.a.Header,{children:"Add Comments"}),C.user?Object(y.jsxs)(L.a.Body,{children:[Object(y.jsx)("textarea",{className:"descsinglepost",placeholder:"Add a Comment...",ref:ce,onChange:function(e){return Y(e.target.value)}}),Object(y.jsx)("button",{className:"Updatebtn",onClick:me,children:"Add"})]}):Object(y.jsx)(L.a.Body,{children:Object(y.jsx)(g.b,{to:"/login",className:"link",children:Object(y.jsx)("span",{children:"Login to add comments"})})})]}),Object(y.jsxs)(L.a.Item,{eventKey:"1",children:[Object(y.jsx)(L.a.Header,{children:"See Comments"}),Object(y.jsx)(L.a.Body,{children:le&&le.map((function(e){var t,a;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{children:[Object(y.jsx)("span",{style:{marginRight:"10px"},children:Object(y.jsx)("img",{src:e.profilepic?e.profilepic:"https://static.vecteezy.com/system/resources/previews/008/442/086/original/illustration-of-human-icon-user-symbol-icon-modern-design-on-blank-background-free-vector.jpg",className:"profileimg",alt:""})}),Object(y.jsx)("span",{children:e.username}),Object(y.jsxs)("div",{className:"commentsinglepost",children:[C.user&&(C.user.username===e.username||"admin"===(null===(t=C.user)||void 0===t?void 0:t.role)||p)&&Object(y.jsx)("i",{class:"far fa-trash-alt",target:"Delete comment",onClick:function(){return he("/comment/delete/".concat(e._id),{username:e.username})}}),"admin"===(null===(a=C.user)||void 0===a?void 0:a.role)&&"admin"!==e.username&&Object(y.jsx)("button",{className:"delbtn",target:"Delete User",onClick:function(){return he("/auth/delete/".concat(e.userID),{role:C.user.role})},children:"Delete User"})]})]}),Object(y.jsx)("p",{children:e.comment})]})}))})]})]})]})]}),Object(y.jsx)(F,{})]})]})},B=a(12);a(124);var _=function(){var e,t,a=Object(s.useContext)(K),n=a.state,c=a.dispatch,r=a.isLoading,l=a.setisLoading,u=Object(f.f)(),d=Object(s.useState)(""),b=Object(i.a)(d,2),p=b[0],O=b[1],h=null===(e=n.user)||void 0===e?void 0:e._id,m=Object(s.useState)({_id:h}),x=Object(i.a)(m,2),g=x[0],v=x[1],k=function(e){v(Object(I.a)(Object(I.a)({},g),{},Object(B.a)({},e.target.name,e.target.value)))},C=function(){var e=Object(j.a)(o.a.mark((function e(t){var a,s,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(!0),a=Object(I.a)({},g),e.prev=3,!a.username&&!p){e.next=8;break}return e.next=7,N.a.put("/comment/userid/".concat(h),a);case 7:e.sent;case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:if(!p){e.next=18;break}return e.next=16,A(p);case 16:s=e.sent,a=Object(I.a)(Object(I.a)({},a),{},{profilepic:s});case 18:return e.next=20,N.a.put("/auth/update/".concat(h),a);case 20:n=e.sent,console.log(n),console.log(n.data),l(!1),200===n.status?(c({type:"Update",payload:n.data}),u.push("/")):400===n.status&&alert("Fill the credentials");case 25:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){n.user||u.push("/login")}),[n]),Object(y.jsxs)(y.Fragment,{children:[r&&Object(y.jsx)(w,{}),Object(y.jsxs)("div",{className:"settings",children:[Object(y.jsxs)("div",{className:"settingsWrapper",children:[Object(y.jsx)("div",{className:"settingsheadings",children:Object(y.jsx)("span",{className:"settingsupdate",children:"Update Your Account"})}),Object(y.jsxs)("form",{className:"settingsform",children:[Object(y.jsx)("label",{children:"Profile Picture"}),Object(y.jsxs)("div",{className:"settingspp",children:[p?Object(y.jsx)("img",{src:URL.createObjectURL(p),className:"profileimg",alt:""}):Object(y.jsx)("img",{src:(null===(t=n.user)||void 0===t?void 0:t.profilepic)||"https://image.flaticon.com/icons/png/512/17/17004.png",className:"profileimg",alt:""}),Object(y.jsx)("label",{htmlFor:"profileimgchange",children:Object(y.jsx)("i",{class:" settingspimg far fa-user-circle"})}),Object(y.jsx)("input",{type:"file",id:"profileimgchange",name:"profilepic",style:{display:"none"},onChange:function(e){O(e.target.files[0])}})]}),Object(y.jsx)("label",{htmlFor:"",children:"Username"}),Object(y.jsx)("input",{type:"text",placeholder:"Username",name:"username",onChange:function(e){return k(e)}}),Object(y.jsx)("label",{htmlFor:"",children:"Email"}),Object(y.jsx)("input",{type:"text",placeholder:"Email",name:"email",onChange:function(e){return k(e)}}),Object(y.jsx)("label",{htmlFor:"",children:"Password"}),Object(y.jsx)("input",{type:"password",placeholder:"Password",name:"password",onChange:function(e){return k(e)}}),Object(y.jsx)("button",{type:"submit",className:"settingsbutton",onClick:C,children:"Update"})]})]}),Object(y.jsx)(F,{})]})]})};a(125);var G=function(){var e=Object(s.useContext)(K),t=e.dispatch,a=e.state,n=e.isLoading,c=e.setisLoading,r=Object(s.useState)(""),l=Object(i.a)(r,2),u=l[0],d=l[1],b=Object(s.useState)(""),p=Object(i.a)(b,2),O=p[0],h=p[1],m=Object(f.f)();Object(s.useEffect)((function(){a.user&&m.push("/")}),[a.user]);var x=function(){var e=Object(j.a)(o.a.mark((function e(a){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a.preventDefault(),c(!0),u&&O){e.next=6;break}throw alert("Fill the details"),new Error("Fill the credentials");case 6:return e.next=8,N.a.post("/auth/login",{email:u,password:O});case 8:s=e.sent,console.log(s),c(!1),s&&201===s.status?(alert("User Logged In"),t({type:"Login",payload:s.data}),m.push("/")):alert("Invalid Credentials"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[n&&Object(y.jsx)(w,{}),Object(y.jsx)("div",{className:"loginpage",children:Object(y.jsxs)("form",{className:"loginform",children:[Object(y.jsx)("h1",{className:"logintitle",children:"Login"}),Object(y.jsx)("label",{htmlFor:"",children:"Email"}),Object(y.jsx)("input",{type:"text",placeholder:"Email",onChange:function(e){d(e.target.value)}}),Object(y.jsx)("label",{htmlFor:"",children:"Password"}),Object(y.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){h(e.target.value)}}),Object(y.jsx)("button",{type:"button",className:"loginbutton",onClick:x,children:"Login"}),Object(y.jsx)(g.b,{to:"/register",className:"registerbutton",children:"Register"})]})})]})};a(126);var z=function(){var e=Object(s.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),r=Object(i.a)(c,2),l=r[0],u=r[1],d=Object(s.useState)(""),b=Object(i.a)(d,2),p=b[0],O=b[1],h=Object(f.f)(),m=Object(s.useContext)(K),x=m.state,v=m.isLoading,k=m.setisLoading;Object(s.useEffect)((function(){x.user&&h.push("/")}),[x.user]);var C=function(){var e=Object(j.a)(o.a.mark((function e(t){var s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),k(!0),e.next=5,N.a.post("/auth/register",{username:a,email:l,password:p});case 5:s=e.sent,k(!1),s&&201===s.status?(alert("User Registered"),h.push("/login")):alert("Invalid Credentials/Details should be unique"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("Invalid Details");case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(y.jsxs)(y.Fragment,{children:[v&&Object(y.jsx)(w,{}),Object(y.jsx)("div",{className:"Registerpage",children:Object(y.jsxs)("form",{className:"Registerform",children:[Object(y.jsx)("h1",{className:"Registertitle",children:"Register"}),Object(y.jsx)("label",{htmlFor:"",children:"Username"}),Object(y.jsx)("input",{type:"text",placeholder:"Username",onChange:function(e){n(e.target.value)}}),Object(y.jsx)("label",{htmlFor:"",children:"Email"}),Object(y.jsx)("input",{type:"text",placeholder:"Email",onChange:function(e){u(e.target.value)}}),Object(y.jsx)("label",{htmlFor:"",children:"Password"}),Object(y.jsx)("input",{type:"password",placeholder:"Password",onChange:function(e){O(e.target.value)}}),Object(y.jsx)("button",{type:"submit",className:"Registerbutton",onClick:C,children:"Register"}),Object(y.jsx)(g.b,{to:"/login",className:"loginlink",children:"Login"})]})})]})},W={user:null,loc:null},H=function(e,t){return"Login"===t.type?Object(I.a)(Object(I.a)({},e),{},{user:t.payload}):"Set"===t.type?Object(I.a)(Object(I.a)({},e),{},{loc:t.payload.add}):"Update"===t.type?Object(I.a)(Object(I.a)({},e),{},{user:t.payload}):"Logout"===t.type?Object(I.a)(Object(I.a)({},e),{},{user:null}):e},K=n.a.createContext();var V=function(){var e=function(){var e=Object(j.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/auth/getdata",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"});case 2:if(200!==(t=e.sent).status){e.next=9;break}return e.next=6,t.json();case 6:a=e.sent,console.log(a),c({type:"Login",payload:a});case 9:c({type:"Set",payload:{add:document.URL}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){e()}),[]);var t=Object(s.useReducer)(H,W),a=Object(i.a)(t,2),n=a[0],c=a[1],r=Object(s.useState)(!1),l=Object(i.a)(r,2),u=l[0],d=l[1];return console.log(n),Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(K.Provider,{value:{state:n,dispatch:c,isLoading:u,setisLoading:d},children:Object(y.jsxs)(g.a,{children:[Object(y.jsx)(C,{}),Object(y.jsxs)(f.c,{children:[Object(y.jsx)(f.a,{exact:!0,path:"/",children:Object(y.jsx)(D,{})}),Object(y.jsx)(f.a,{exact:!0,path:"/write",children:Object(y.jsx)(P,{})}),Object(y.jsx)(f.a,{exact:!0,path:"/login",children:Object(y.jsx)(G,{})}),Object(y.jsx)(f.a,{exact:!0,path:"/register",children:Object(y.jsx)(z,{})}),Object(y.jsx)(f.a,{exact:!0,path:"/about",children:Object(y.jsx)(_,{})}),Object(y.jsx)(f.a,{exact:!0,path:"/singlepost/:id",children:Object(y.jsx)(T,{})})]})]})})})},q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,145)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(y.jsx)(n.a.StrictMode,{children:Object(y.jsx)(V,{})}),document.getElementById("root")),q()},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){}},[[128,1,2]]]);
//# sourceMappingURL=main.c2d28b40.chunk.js.map